version: '3.4'

services:
  bugreporter.frontend:
    image: ${DOCKER_REGISTRY-}bugreporterfrontend
    build:
      context: .
      dockerfile: BugReporter.Frontend/Dockerfile
    ports:
    - "1234:80" 
    networks:
        - my-network
    depends_on:
        - "BugReporter.BugApi"

  bugreporter.database:
    image: ${DOCKER_REGISTRY-}bugreporterdatabase
    build:
      context: .
      dockerfile: BugReporter.Database/Dockerfile
    ports:
        - "1337:80"
    networks:
        - my-network

  bugreporter.bugapi:
    image: ${DOCKER_REGISTRY-}bugreporterbugapi
    build:
      context: .
      dockerfile: BugReporter.BugApi/Dockerfile
    ports:
        - "1336:80" 
    networks:
        - my-network

networks:
  my-network:
    external: false